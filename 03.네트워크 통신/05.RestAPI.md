## Rest API (Representational State Transfer)

### REST

> 1. 자원의 이름으로 구분하여,
> 2. 해당 자원의 상태를 주고 받는 모든 것

'HTTP URI(Uniform Resource Identifier)'를 통해 자원(Resource)을 명시하고,   
'HTTP Method(GET, POST, PUT, PATCH, DELETE 등)'를 통해 해당 자원(URI)에 대한 `CRUD Operation`을 적용


<br/>

- 자원을 이름으로 구분 (자원의 표현)

    - 자원 = 문서, 사진, 그림, 데이터 등 소프트웨어가 관리하는 모든 것을 HTTP URI를 통해 명시
    - ex) DB 영화 정보가 자원일 때, /movies를 자원의 표현으로 정함
    ```
    GET /movies/1
    ```

- 자원의 상태를 주고 받음 (요청 - 응답)

    - 클라이언트는 데이터가 요청되어지는 시점에서 자원의 상태(정보=payload)를 전달

    - 클라이언트가 자원의 상태(정보)에 대한 조작을 요청하면 서버는 이에 적잘한 응답을 보냄   
        *전달 방식으로는 JSON 혹은 XML을 통해 데이터를 주고 받는 것이 일반적*

- **REST는 HTTP URL를 통해 클라이언트와 서버 사이의 통신하는 방식 중 하나로, HTTP Method를 통해 자원을 처리하도록 설계된 아키텍쳐를 말함**


<br/>

### REST 구성요소

1. 자원(Resource) : HTTP URI
- 모든 자원에 고유한 ID가 존재하고, 이 자원은 서버에 존재
- 자원을 구별하는 ID는 `/groups/:group_id`와 같은 HTTP URI
- 클라이언트는 URI를 이용해서 자원을 지정하고 해당 자원의 상태(정보)에 대한 조작을 서버에 요청

2. 행워(Verb) : HTTP Method
- HTTP 프로토콜의 Method를 사용
- HTTP 프로토콜은 `GET` `POST` `PUT` `DELETE` 와 같은 메서드 제공

3. 표현 (Representation of Ressoure)
- 클라이언트가 자원의 상태(정보)에 대한 조작을 요청하면 서버는 이에 적절한 응답을 보냄
- REST에서 하나의 자원은 `JSON` `XML` `TEXT` `RSS` 등 여러 형태의 응답을 받을 수 있음

<br/>

### REST 특징

1) Uniform (유니폼 인터페이스)   
Uniform Interface는 URI로 지정한 리소스에 대한 조작을 통일되고 한정적인 인터페이스로 수행하는 아키텍처 스타일

2) Stateless (무상태성)   
REST는 무상태성 성격을 가짐   
다시 말해 작업을 위한 상태정보를 따로 저장하고 관리하지 않음   
세션 정보나 쿠키정보를 별도로 저장하고 관리하지 않기 때문에 API 서버는 들어오는 요청만을 단순히 처리   
때문에 서비스의 자유도가 높아지고 서버에서 불필요한 정보를 관리하지 않음으로써 구현이 단순

3) Cacheable (캐시 가능)   
REST의 가장 큰 특징 중 하나는 HTTP라는 기존 웹표준을 그대로 사용하기 때문에, 웹에서 사용하는 기존 인프라를 그대로 활용이 가능   
따라서 HTTP가 가진 캐싱 기능이 적용 가능    
HTTP 프로토콜 표준에서 사용하는 Last-Modified태그나 E-Tag를 이용하면 캐싱 구현이 가능

4) Self-descriptiveness (자체 표현 구조)   
REST의 또 다른 큰 특징 중 하나는 REST API 메시지만 보고도 이를 쉽게 이해 할 수 있는 자체 표현 구조로 되어 있다는 것

5) Client - Server 구조   
REST 서버는 API 제공, 클라이언트는 사용자 인증이나 컨텍스트(세션, 로그인 정보)등을 직접 관리하는 구조로 각각의 역할이 확실히 구분되기 때문에    
클라이언트와 서버에서 개발해야 할 내용이 명확해지고 서로간 의존성이 줄어들게 됌

6) 계층형 구조   
REST 서버는 다중 계층으로 구성될 수 있으며 보안, 로드 밸런싱, 암호화 계층을 추가해 구조상의 유연성을 둘 수 있고 PROXY, 게이트웨이 같은 네트워크 기반의 중간매체를 사용할 수 있음   

---

👉🏻 **장점**

- HTTP 프로토콜의 인프라를 그대로 사용하므로 REST API 사용을 위한 별도의 인프라를 구출할 필요가 없음
- HTTP 표준 프로토콜에 따르는 모든 플랫폼에서 사용이 가능
- Hypermedia API의 기본을 충실히 지키면서 범용성을 보장
- REST API 메시지가 의도하는 바를 명확하게 나타내므로 의도하는 바를 쉽게 파악할 수 있음
- 여러가지 서비스 디자인에서 생길 수 있는 문제를 최소화
- 서버와 클라이언트의 역할을 명확하게 분리

👉🏻 **단점**

- 표준이 존재하지 않음
- 사용할 수 있는 메소드가 4가지.. HTTP Method 형태가 제한적
- 브라우저를 통해 테스트할 일이 많은 서비스라면 쉽게 고칠 수 있는 URL보다 Header 값이 왠지 더 어렵게 느껴질 수 있음
- 구형 브라우저가 아직 제대로 지원해주지 못하는 부분이 존재


<br/>

### REST API

**REST API : REST를 기반으로 서비스 API를 구현한 것**

*설계규칙*
1. 슬래시 구분자(/)는 계층 관계 나타낼 때 사용
2. URI 마지막 문자로 슬래시(/) 포함하지 않음
3. 하이픈(-)은 URI 가독성 높이는 데 사용
4. 밑줄(_)은 URI에 사용하지 않음
5. 대문자보다 소문자 사용
6. 메시지 body 내용의 포맷을 나타내기 위한 파일 확장자를 URI 안에 포함시키지 않음 (Accept header 사용)
7. 리소스 간에는 연관 관계가 있는 경우

<br/>

### RESTful

REST 원리를 따르는 시스템은 RESTful이란 용어로 지칭   
> **‘REST API’를 제공하는 웹 서비스를 ‘RESTful’하다고 할 수 있음**

RESTful한 API를 구현하는 근본적인 목적이 성능 향상에 있는 것이 아니라 '일관적인 컨벤션을 통한 API의 이해도 및 호환성을 높이는 것'이 주 동기이니,   
성능이 중요한 상황에서는 굳이 RESTful한 API를 구현할 필요는 없음

- 이해하기 쉽고 사용하기 쉬운 REST API를 만드는 것이 목적